/*! 0.5.1 */
var FormBuilder;!function(){"use strict";var e,t,n={d:function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};function i(){var e=window.location.search.substring(1);if(!e)return[];var t=[];return e.split("&").filter(Boolean).forEach((function(e){var n=e.split("="),r=n[0].trim(),i="";2===n.length&&(i=n[1].trim()),t.push({name:r,value:i})})),t}n.r(r),n.d(r,{create:function(){return J}}),function(e){e.TEXT="TEXT",e.TEXTAREA="TEXTAREA",e.NUMBER="NUMBER",e.DROPDOWN="DROPDOWN",e.CHECKBOX="CHECKBOX",e.RADIOBUTTON="RADIOBUTTON",e.DATE="DATE",e.DATETIME="DATETIME",e.EMAIL="EMAIL",e.MSISDN="MSISDN",e.CHECKBOX_GROUP="CHECKBOX_GROUP",e.SUBMIT_BUTTON="SUBMIT_BUTTON",e.TITLE="TITLE",e.DESCRIPTION="DESCRIPTION"}(e||(e={})),function(e){e.REDIRECT="REDIRECT",e.MESSAGE="MESSAGE"}(t||(t={}));var o=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}};function u(e,n,r,u,l,c,s){function d(){var e;(null===(e=n.actionAfterSubmission)||void 0===e?void 0:e.type)===t.REDIRECT&&(window.location.href=n.actionAfterSubmission.value),r.removeChild(u),s.showSuccess()}function f(){r.removeChild(u),s.showError("Something went wrong, please, reload the page and try again")}function p(){return o(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e=l.map((function(e){return e.validate()})),e.every((function(e){return e}))?[4,Promise.all(l.map((function(e){return e.validateAsync()}))).then((function(e){return e.every((function(e){return e}))})).catch((function(e){return console.error("Error while validating form elements async",e),!1}))]:[2,!1];case 1:return t.sent()?l.every((function(e){return null===e.getValue()}))?(s.showError("At least one of the form’s fields should have value"),[2,!1]):[2,!0]:[2,!1]}}))}))}u.addEventListener("submit",(function(t){return o(this,void 0,void 0,(function(){var n,r;return a(this,(function(o){switch(o.label){case 0:return t.preventDefault(),null==c||c.disable(),[4,p()];case 1:return o.sent()&&"true"!==String(e.preview)?(n=new FormData,l.filter((function(e){return null!==e.getValue()})).forEach((function(e){var t=e.getValue();Array.isArray(t)?t.forEach((function(t){return n.append(e.formElement.fieldId,t)})):n.append(e.formElement.fieldId,e.getValue())})),r=l.map((function(e){return e.formElement.fieldId})),i().filter((function(e){return!r.includes(e.name)})).forEach((function(e){return n.append(e.name,e.value)})),null==c||c.disable(),function(e,t,n,r){var i=new XMLHttpRequest;i.open("POST","".concat(t.apiUrl,"/forms/1/forms/").concat(t.formId,"/data"),!0),i.setRequestHeader("Authorization","App "+t.apiKey),i.addEventListener("load",(function(){200===i.status?n():r("Error submitting the form, please try again later")})),i.addEventListener("error",(function(){r("Error submitting the form, please check your internet connection")})),e.append("ib-submission-source",t.source),e.append("ib-submission-form-campaign",t.formCampaign),i.send(e)}(n,e,d,f),[2]):(null==c||c.enable(),[2])}}))}))}),!0)}var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=l.length;function s(){for(var e="",t=0;t<5;t++)e+=l.charAt(Math.floor(d()*c));return e}function d(){var e=new ArrayBuffer(8),t=new Int8Array(e);return window.crypto.getRandomValues(t),t[7]=63,t[6]|=240,new DataView(e).getFloat64(0,!0)-1}function f(e,t){var n=s(),r=document.createElement("input");r.id=n,r.name=e,r.type="checkbox",r.classList.add("ib--hidden-input");var i=document.createElement("label");i.textContent=t||" ",i.htmlFor=n,i.classList.add("ib--checkbox-label");var o=document.createElement("span");o.classList.add("ib--checkbox");var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 24 24"),a.setAttribute("width","16"),a.setAttribute("height","16"),o.appendChild(a);var u=document.createElementNS("http://www.w3.org/2000/svg","path");return u.setAttribute("d","M1.73 12.91l6.37 6.37L22.79 4.59"),u.setAttribute("stroke-width","3"),u.setAttribute("stroke","white"),u.setAttribute("fill","none"),a.appendChild(u),i.appendChild(r),i.appendChild(o),r.onchange=function(){r.checked?o.classList.add("ib--checkbox-checked"):o.classList.remove("ib--checkbox-checked")},r.onfocus=function(){return o.classList.add("ib--checkbox-radio-focused")},r.onblur=function(){return o.classList.remove("ib--checkbox-radio-focused")},{inputElement:r,rootElement:i,labelElement:o}}var p=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}};var h=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},v=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}};var m=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},y=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}};var w=/^\s*$/,g=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,E=/[<>^&;:"/[\]|{}()=#+\n\r]/;function x(e){return!e||w.test(e)}function k(e){return E.test(e)}var T=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},L=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}};function C(t,n,r,i){var o=this,a=document.createElement("input");a.id=t,a.name=n.fieldId,a.type="text",a.placeholder=n.placeholder||"",a.maxLength=250,a.classList.add("ib--text");var u=void 0;function l(t){u=void 0;var o,s,d=x(a.value);return n.isRequired&&d&&t?u="This field is required":i&&k(a.value)?u="Input name should not contain any special characters":n.component!==e.NUMBER||d?n.component===e.DATE&&!d&&function(e){return!/^(\d{4})-(\d{2})-(\d{2})$/.test(e)}(a.value)?u="Date has to be in format '"+c(new Date)+"'":n.component===e.DATETIME&&!d&&function(e){return!/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})/.test(e)}(a.value)?u="Date has to be in format '"+(c(o=new Date)+" "+("0"+o.getHours()).slice(-2)+":"+("0"+o.getMinutes()).slice(-2)+"'"):n.component===e.EMAIL&&!d&&function(e){return!g.test(e)}(a.value)&&(u="Please enter a valid email address"):"INTEGER"!==n.personFieldDataType||(s=a.value,/^[-+]?\d{1,16}$/.test(s))?function(e){var t=e;return e.length>0&&(t=String(e).replace(",",".")),!!isNaN(Number(t)-parseFloat(t))||Number(t)>Number.MAX_SAFE_INTEGER}(a.value)&&(u="Please use only numbers, '-' sign and '.'"):u="Please use only numbers and '-' sign",u?a.classList.add("ib--input-invalid"):a.classList.remove("ib--input-invalid"),a.oninput=u?function(){return l()}:null,r(u),!u}function c(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}return a.onblur=function(){return l()},{element:a,validate:l,validateAsync:function(){return T(o,void 0,void 0,(function(){return L(this,(function(e){return[2,Promise.resolve(!0)]}))}))},getValue:function(){return a.value?n.component===e.NUMBER?a.value.replace(",","."):n.component!==e.DATETIME||x(a.value)?a.value:new Date(a.value+":00Z").toISOString():null}}}var A=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},S=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}};var I=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},O=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}};function D(e,t){var n=this,r=document.createElement("div"),i=e.options.map((function(e){return function(e,t){var n=f(t.value,t.name),r=n.inputElement,i=n.rootElement,o=n.labelElement;return e.appendChild(i),{element:r,setValid:function(){o.classList.remove("ib--input-invalid")},setInvalid:function(){o.classList.add("ib--input-invalid")}}}(r,e)})),o=void 0;function a(n){return o=void 0,n&&e.isRequired&&i.every((function(e){return!e.element.checked}))&&(o="Please select one"),o?i.forEach((function(e){return e.setInvalid()})):i.forEach((function(e){return e.setValid()})),t(o),!o}i.forEach((function(e){return e.element.addEventListener("change",(function(){return a()}))}));return{element:r,validate:a,validateAsync:function(){return I(n,void 0,void 0,(function(){return O(this,(function(e){return[2,Promise.resolve(!0)]}))}))},getValue:function(){var e=[];return i.forEach((function(t){var n=t.element;n.checked&&e.push(n.name)})),e.length>0?e:null}}}var R=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},P=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}};function N(e,t,n){return R(this,void 0,void 0,(function(){var r;return P(this,(function(i){switch(i.label){case 0:return[4,fetch("".concat(n.apiUrl,"/forms/1/forms/validate-person-field"),{method:"POST",headers:{Authorization:"App ".concat(n.apiKey),"Content-Type":"application/json"},body:JSON.stringify({type:e,value:t})})];case 1:if(!(r=i.sent()).ok){if(429===r.status)return[2,!0];throw new Error("Network response was not ok")}return[4,r.json()];case 2:return[2,i.sent()]}}))}))}function M(e,t){var n;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];clearTimeout(n),n=setTimeout((function(){e.apply(void 0,r)}),t)}}var B=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},U=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}},H="Please enter the number in the international format. For example: '1 555 555 1234'";var F=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},q=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}};var V=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},X=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}},G=new Set(["firstName","lastName","middleName","nickName"]),K={email:function(e,t,n,r){var i=this,o=document.createElement("input");o.id=e,o.name=t.fieldId,o.type="email",o.placeholder=t.placeholder||"",o.maxLength=250,o.classList.add("ib--text"),o.classList.add("ib--email");var a=M((function(){return u()}),500);o.addEventListener("keyup",a);var u=function(){return F(i,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return(e=s())?[4,N(t.personField?t.personField:t.component.toLowerCase(),e,n)]:[2,t.isRequired?c("This field is required"):l()];case 1:return[2,r.sent()?l():c("Email is invalid. Please enter the correct email. For example name@domain.com")]}}))}))};function l(){return o.classList.remove("ib--input-invalid"),r(void 0),!0}function c(e){return o.classList.add("ib--input-invalid"),r(e),!1}function s(){return o.value?o.value.replace(/ /g,""):null}return{element:o,validate:function(e){return!0},validateAsync:u,getValue:s}},msisdn:function(e,t,n,r){var i=document.createElement("input");i.id=e,i.name=t.fieldId,i.type="text",i.placeholder=t.placeholder||"",i.maxLength=250,i.classList.add("ib--text"),i.classList.add("ib--phone-number");var o=M((function(){return u()}),500),a=function(){return o()};function u(){return B(this,void 0,void 0,(function(){var e;return U(this,(function(r){switch(r.label){case 0:return(e=s())?/\D+/.test(e)?[2,c("Number has to contain only digits. "+H)]:e.length<6?[2,c("Number is too short. "+H)]:[4,N(t.personField?t.personField:t.component.toLowerCase(),e,n)]:[2,t.isRequired?c("This field is required"):l()];case 1:return[2,r.sent()?l():c("Number is invalid. "+H)]}}))}))}function l(){return i.classList.remove("ib--input-invalid"),r(void 0),!0}function c(e){return i.classList.add("ib--input-invalid"),r(e),!1}function s(){return i.value?i.value.replace(/ /g,""):null}return i.addEventListener("keyup",(function(){return a()})),i.addEventListener("paste",(function(e){e.preventDefault();var t=(e.clipboardData||window.clipboardData).getData("text");i.value=t.replace(/\D/g,""),a()})),{element:i,validate:function(e){return!0},validateAsync:u,getValue:s}}};function j(t,n){var r=this,i=s(),o=document.createElement("div");if(o.classList.add("ib--element-container"),t.label){var a=document.createElement("label");t.component!==e.CHECKBOX&&t.component!==e.RADIOBUTTON&&(a.htmlFor=i),a.textContent=t.label,a.classList.add("ib--input-label"),o.appendChild(a)}var u,l=document.createElement("span");function c(e){var n;e?(l.textContent=t.validationMessages?null===(n=t.validationMessages)||void 0===n?void 0:n.text:e,o.appendChild(l)):l.parentNode===o&&o.removeChild(l)}l.classList.add("ib--input-error-label");var d=t.personField||t.component.toLowerCase();if(Object.keys(K).includes(d))u=(0,K[d])(i,t,n,c);else switch(t.component){case e.MSISDN:case e.TEXT:case e.NUMBER:case e.DATE:case e.DATETIME:case e.EMAIL:u=C(i,t,c,w());break;case e.TEXTAREA:u=function(e,t,n,r){var i=this,o=document.createElement("textarea");o.id=e,o.name=t.fieldId,o.placeholder=t.placeholder||"",o.maxLength=1e3,o.classList.add("ib--text"),o.classList.add("ib--textarea");var a=void 0;function u(e){return a=void 0,t.isRequired&&x(o.value)&&e&&(a="This field is required"),r&&k(o.value)&&(a="Input name should not contain any special characters"),a?o.classList.add("ib--input-invalid"):o.classList.remove("ib--input-invalid"),o.oninput=a?function(){return u()}:null,n(a),!a}return o.onblur=function(){return u()},{element:o,validate:u,validateAsync:function(){return A(i,void 0,void 0,(function(){return S(this,(function(e){return[2,Promise.resolve(!0)]}))}))},getValue:function(){return o.value?o.value:null}}}(i,t,c,w());break;case e.DROPDOWN:u=function(e,t,n){var r=this,i=document.createElement("select");i.id=e,i.name=t.fieldId,i.classList.add("ib--text");var o=document.createElement("option");o.disabled=!0,o.selected=!0,o.hidden=!0,o.textContent=t.placeholder||null,o.value="",i.add(o),t.options.forEach((function(e){var t=document.createElement("option");t.value=e.value,t.textContent=e.name,i.add(t)})),""===i.value&&i.classList.add("ib--select-placeholder"),i.onchange=function(e){var t=e.target;i.className=""===t.value?"ib--text ib--select-placeholder":"ib--text"};var a=void 0;return{element:i,validate:function e(r){return a=void 0,r&&t.isRequired&&!i.value&&(a="Please choose one"),a?i.classList.add("ib--input-invalid"):i.classList.remove("ib--input-invalid"),i.onchange=a?function(){return e()}:null,n(a),!a},validateAsync:function(){return h(r,void 0,void 0,(function(){return v(this,(function(e){return[2,Promise.resolve(!0)]}))}))},getValue:function(){return i.value?i.value:null}}}(i,t,c);break;case e.CHECKBOX:u=function(e,t){var n=this,r=f(e.fieldId,e.checkboxText),i=r.inputElement,o=r.rootElement,a=r.labelElement,u=void 0;function l(n){return u=void 0,n&&e.isRequired&&!i.checked&&(u="This field is required"),u?a.classList.add("ib--input-invalid"):a.classList.remove("ib--input-invalid"),t(u),!u}return i.addEventListener("change",(function(){return l()})),{element:o,validate:l,validateAsync:function(){return p(n,void 0,void 0,(function(){return b(this,(function(e){return[2,Promise.resolve(!0)]}))}))},getValue:function(){return i.checked?"true":null}}}(t,c);break;case e.CHECKBOX_GROUP:u=D(t,c);break;case e.RADIOBUTTON:u=function(e,t){var n=this,r=document.createElement("div"),i=void 0,o=e.options.map((function(t){var n=s(),o=document.createElement("input");o.id=n,o.name=e.fieldId,o.value=t.value,o.type="radio",o.classList.add("ib--hidden-input");var a=document.createElement("label");a.textContent=t.name,a.htmlFor=n,a.classList.add("ib--radiobutton-label");var u=document.createElement("span");function l(){i!==u&&(i&&i.classList.remove("ib--radiobutton-selected"),i=u),u.classList.add("ib--radiobutton-selected")}return u.classList.add("ib--radiobutton"),o.addEventListener("change",l),o.onfocus=function(){return u.classList.add("ib--checkbox-radio-focused")},o.onblur=function(){return u.classList.remove("ib--checkbox-radio-focused")},a.appendChild(o),a.appendChild(u),r.appendChild(a),{element:o,setValid:function(){u.classList.remove("ib--input-invalid"),o.onchange=l},setInvalid:function(){u.classList.add("ib--input-invalid")}}})),a=void 0;function u(n){return a=void 0,n&&e.isRequired&&o.every((function(e){return!e.element.checked}))&&(a="Please select one"),a?o.forEach((function(e){return e.setInvalid()})):o.forEach((function(e){return e.setValid()})),t(a),!a}return o.forEach((function(e){return e.element.addEventListener("change",(function(){return u()}))})),{element:r,validate:u,validateAsync:function(){return m(n,void 0,void 0,(function(){return y(this,(function(e){return[2,Promise.resolve(!0)]}))}))},getValue:function(){var e=o.filter((function(e){return e.element.checked}));return e.length>0?e[0].element.value:null}}}(t,c);break;default:u={element:document.createElement("div"),getValue:function(){return null},validate:function(){return!0},validateAsync:function(){return Promise.resolve(!0)}}}o.appendChild(u.element);function w(){return!!t.personField&&G.has(t.personField)}return{element:o,formElement:t,validate:function(){return u.validate(!0)},validateAsync:function(){return V(r,void 0,void 0,(function(){return X(this,(function(e){return[2,u.validateAsync()]}))}))},getValue:function(){return u.getValue()}}}function _(t){var n;switch(t.component){case e.TITLE:n=function(e){var t=document.createElement("h2");return t.classList.add("ib--title"),t.textContent=e.textContent,t}(t);break;case e.DESCRIPTION:n=function(e){var t=document.createElement("p");return t.classList.add("ib--description"),t.textContent=e.textContent,t}(t);break;default:n=document.createElement("div")}return{element:n,formElement:t}}var z=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},W=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}};function Z(t,n,r){var i=[],o=void 0;return n.forEach((function(n){if(n.isHidden){var a=function(e){var t=this,n=document.createElement("input");return n.id=s(),n.name=e.fieldId,n.hidden=e.isHidden,n.type="text",n.classList.add("ib--text"),{element:n,formElement:e,validate:function(){return!0},validateAsync:function(){return z(t,void 0,void 0,(function(){return W(this,(function(e){return[2,Promise.resolve(!0)]}))}))},getValue:function(){return n.value?n.value:null}}}(n);return i.push(a),void t.appendChild(a.element)}switch(n.component){case e.MSISDN:case e.TEXT:case e.NUMBER:case e.DATE:case e.DATETIME:case e.EMAIL:case e.TEXTAREA:case e.DROPDOWN:case e.CHECKBOX:case e.RADIOBUTTON:case e.CHECKBOX_GROUP:a=j(n,r);return i.push(a),void t.appendChild(a.element);case e.TITLE:case e.DESCRIPTION:var u=_(n);return void t.appendChild(u.element);case e.SUBMIT_BUTTON:var l=function(e){var t=document.createElement("div");t.classList.add("ib--submit-button_wrapper");var n=document.createElement("button");n.classList.add("ib--submit-button"),t.appendChild(n);var r=document.createElement("span");r.textContent=e.label.toUpperCase(),r.classList.add("ib--submit-button-text"),n.appendChild(r);var i=document.createElement("div");return i.classList.add("ib--submit-button-spinner"),{element:t,formElement:e,disable:function(){n.disabled=!0,n.classList.add("ib--submit-button-disabled"),r.appendChild(i)},enable:function(){n.disabled=!1,n.classList.remove("ib--submit-button-disabled"),r.removeChild(i)}}}(n);return o=l,void t.appendChild(l.element)}})),{inputs:i,button:o}}var $=function(){return $=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$.apply(this,arguments)};function J(e){var t=document.getElementById(e.rootElementId);if(t){e.source=document.title,e.formCampaign="";var n=$($({},t.dataset),e),r=document.createElement("style");r.textContent='.ib--form-container {padding: 16px 32px;}.ib--loading-container {height: 48px;position: relative;padding: 14px;}@keyframes ib--spinner {to {transform: rotate(360deg);}}.ib--loading-spinner {width: 36px;height: 36px;margin-left: auto;margin-right: auto;border: 5px solid rgba(147, 229, 233, .3);border-radius: 50%;border-top-color: #1fceed;animation: ib--spinner 1s ease-in-out infinite;}.ib--loading-error {text-align: center;padding: 12px 8px;border: 1px solid #ff5a00;border-radius: 2px;color: #ff5a00;font: 16px "Helvetica", sans-serif;}.ib--submit-button {width: 100%;padding: 12px 16px;line-height: 18px;cursor: pointer;background-color: #547a92;border: none;border-radius: 2px;color: #fff;font-weight: bolder;display: flex;align-items: center;justify-content: center;}.ib--submit-button-disabled {color: #b4b4b4;background-color: #e4e4e4;}.ib--submit-button-text {position: relative;}.ib--submit-button-spinner {position: absolute;left: 100%;top: 0;width: 12px;height: 12px;margin-left: 12px;border: 3px solid rgba(255, 255, 255, .3);border-radius: 50%;border-top-color: #fff;animation: ib--spinner 1s ease-in-out infinite;}.ib--submit-status-success {padding-top: 12px;text-align: center;}.ib--submit-status-error {padding-top: 12px;text-align: center;}.ib--element-container {margin-bottom: 24px;}.ib--input-label {display: block;margin-bottom: 4px;color: #242424;font: 18px "Helvetica", sans-serif;font-weight: 700;line-height: 23px;}.ib--input-error-label {float: right;margin-top: 4px;color: #ff5a00;font-family: "Helvetica", sans-serif;}.ib--hidden-input {position: absolute;width: 0;height: 0;opacity: 0;margin: 0;}.ib--checkbox-label {position: relative;display: block;cursor: pointer;padding-left: 36px;font: 16px "Helvetica", sans-serif;line-height: 28px;margin-bottom: 10px;}.ib--checkbox {position: absolute;top: 0;left: 0;cursor: pointer;display: flex;justify-content: center;align-items: center;width: 22px;height: 22px;border: 2px solid #93e5e9;border-radius: 5px;background-color: #fff;transition: background-color .2s ease-in-out;}.ib--checkbox-checked {background-color: #93e5e9;}.ib--radiobutton-label {position: relative;display: block;cursor: pointer;padding-left: 36px;font: 16px "Helvetica", sans-serif;line-height: 28px;margin-bottom: 10px;}.ib--radiobutton-label:last-child {margin-bottom: 0;}.ib--radiobutton {position: absolute;top: 0;left: 0;cursor: pointer;width: 22px;height: 22px;border: 2px solid #93e5e9;border-radius: 50%;background: #fff;}.ib--radiobutton-selected {background: radial-gradient(#93e5e9 50%, rgba(255, 0, 0, 0) 51%);}.ib--checkbox-radio-focused {box-shadow: 0 0 0 1px #fff, 0 0 3px 2px #93e5e9;}.ib--text {width: 100%;padding: 10px 16px;box-sizing: border-box;background-color: #fff;border: 1px solid #c4d1db;border-radius: 2px;outline-color: #93e5e9;font: 16px "Helvetica", sans-serif;line-height: 28px;}.ib--select-placeholder {color: #aaa;}select.ib--text option:not(first-child) {color: initial;}.ib--textarea {max-width: 100%;min-width: 100%;min-height: 7em;}.ib--input-invalid {border-color: #ff5a00;outline-color: #ff5a00;}.ib--title {margin: 0 0 24px 0;}.ib--description {margin: 0 0 24px 0;}',document.getElementsByTagName("head")[0].appendChild(r);var o,a,l,c,s=function(){var e=document.createElement("div");e.classList.add("ib--loading-container");var t=document.createElement("div");t.classList.add("ib--loading-spinner"),e.appendChild(t);var n=document.createElement("div");return n.classList.add("ib--loading-error"),{element:e,showError:function(r){e.removeChild(t),n.textContent=r,e.appendChild(n)}}}();t.appendChild(s.element),o=n,a=function(e){var t,r,o,a,u,l,c=i();if(e.resubmitEnabled)f(e);else{var s=new FormData;c.forEach((function(e){return s.append(e.name,e.value)})),t=n,r=e,o=s,a=p,u=d,(l=new XMLHttpRequest).responseType="json",l.open("POST","".concat(t.apiUrl,"/forms/1/forms/").concat(t.formId,"/is-resubmit-allowed"),!0),l.setRequestHeader("Authorization","App "+t.apiKey),l.addEventListener("load",(function(){200===l.status?a(r,l.response):u("Error loading the form, please try again later")})),l.addEventListener("error",(function(){u("Error loading the form, please check your internet connection")})),l.send(o)}!function(e,t){void 0===t&&(t=[]);var n=e.elements.map((function(e){return e.fieldId}));t.forEach((function(e){if(n.includes(e.name)){var t=document.querySelector('[name="'.concat(e.name,'"]'));t&&(t.value=e.value)}}))}(e,c)},l=d,(c=new XMLHttpRequest).responseType="json",c.open("GET","".concat(o.apiUrl,"/forms/1/forms/").concat(o.formId),!0),c.setRequestHeader("Authorization","App "+o.apiKey),c.addEventListener("load",(function(){200===c.status?a(c.response):l("Error loading the form, please try again later")})),c.addEventListener("error",(function(){l("Error loading the form, please check your internet connection")})),c.send()}else console.error("Could not find root element for the form");function d(e){s.showError(e)}function f(e){var r,i,o;try{var a=document.createElement("div");a.classList.add("ib--form-container");var l=a.appendChild(document.createElement("form"));l.classList.add("ib--form"),l.autocomplete="off";var c=Z(l,e.elements,n),d=c.inputs,f=c.button,p=(i=null===(r=e.actionAfterSubmission)||void 0===r?void 0:r.value,{element:o=document.createElement("div"),showError:function(e){o.classList.remove("ib--submit-status-success"),o.classList.add("ib--submit-status-error"),o.textContent=e},showSuccess:function(){o.classList.remove("ib--submit-status-error"),o.classList.add("ib--submit-status-success"),o.textContent=i||"Form has been submitted!"}});a.appendChild(p.element),t.removeChild(s.element),t.appendChild(a),u(n,e,a,l,d,f,p),function(e){if("true"!==String(e.preview)){var t=new XMLHttpRequest;t.open("POST","".concat(e.apiUrl,"/forms/1/forms/").concat(e.formId,"/views"),!0),t.setRequestHeader("Authorization","App "+e.apiKey),t.send()}}(n)}catch(e){console.error(e),s.showError("Error rendering the form, please contact support")}}function p(e,t){t?f(e):s.showError("Form was already submitted")}}FormBuilder=r}();